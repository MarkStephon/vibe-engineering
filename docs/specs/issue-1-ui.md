# UI Spec for Issue #1

> 原始需求: [#1](https://github.com/MarkStephon/vibe-engineering/issues/1)
> 生成时间: 2026-01-20T07:17:17.086Z

---

## 需求摘要

## 产品目标
创建一个允许用户上传图片并进行压缩和调整大小的在线站点。

## 核心用户动作
1. 用户上传图片 → 系统接收图片并显示上传成功的提示。
2. 用户选择压缩比例或自定义压缩参数 → 系统根据用户选择压缩图片。
3. 用户调整图片大小（指定宽度和/或高度） → 系统根据用户输入调整图片大小。
4. 用户预览压缩/调整大小后的图片 → 系统显示处理后的图片预览。
5. 用户下载压缩/调整大小后的图片 → 系统提供下载链接，用户可下载图片。

## 输入规则
- 支持常见的图片格式，如JPEG, PNG, GIF等。
- 限制上传图片的最大尺寸（例如：不超过10MB）。
- 限制上传图片的最大分辨率（例如：不超过4000x4000像素）。
- 用户调整大小时，必须输入有效的数字。
- 压缩比例必须在允许的范围内（例如：10%-100%）。

## 输出规则
- 压缩后的图片应尽可能保持原图的质量。
- 调整大小后的图片应保持原图的宽高比，除非用户明确指定不保持。
- 下载的图片应为用户选择的压缩/调整大小后的版本。
- 系统应提供清晰的错误提示，例如：图片格式不支持、图片尺寸过大等。

## 禁止行为
- 禁止用户上传非法或侵权图片。
- 禁止未授权用户访问或修改其他用户上传的图片。
- 禁止用户绕过上传限制（例如：通过修改文件后缀名）。

## 异常与边界
- 如果用户上传的图片无法压缩或调整大小（例如：图片已损坏），系统应给出明确的错误提示。
- 如果用户在压缩或调整大小过程中中断操作，系统应提示用户是否保存当前进度。
- 如果服务器负载过高，导致压缩或调整大小速度变慢，系统应提示用户稍后重试。
- 如果用户上传的图片包含敏感信息，系统应进行脱敏处理（如果适用）。
- 当用户调整图片尺寸时，如果只输入宽度或高度，系统应自动计算另一个维度，保持宽高比；如果用户同时输入宽度和高度，但宽高比与原图不一致，系统应提示用户确认是否裁剪。

---

# UI 设计规格

## 功能概述
用户上传图片，进行压缩和调整大小，并提供预览和下载功能的在线站点。

## 页面布局
整体采用居中式布局，分为以下几个区域：
1.  **Header:** 包含站点 Logo 和简单的导航（例如：帮助、关于）。
2.  **主内容区域:** 分为三个 Tab 页：
    *   **上传图片:** 图片上传区域。
    *   **编辑:** 图片压缩和调整大小的参数设置区域，以及预览区域。
    *   **下载:** 下载链接和相关说明。
3.  **Footer:** 版权信息和联系方式。

## 组件设计

### 图片上传区域

-   **功能描述:** 允许用户上传图片，并显示上传成功的提示。
-   **使用的 shadcn/ui 组件:**
    *   Button (上传按钮)
    *   Alert (上传成功/失败提示)
-   **视觉样式:**
    *   上传按钮：Base Blue (#0000ff) 背景色，白色文字，圆角 12px。
    *   Alert: 上传成功时绿色背景，上传失败时红色背景，白色文字，圆角 12px。
-   **状态变化:**
    *   初始状态：显示上传按钮。
    *   上传中：上传按钮禁用，显示加载动画 (Skeleton)。
    *   上传成功：显示上传成功的 Alert，并跳转到“编辑” Tab。
    *   上传失败：显示上传失败的 Alert。

### 编辑区域

-   **功能描述:** 允许用户设置压缩比例和图片尺寸，并预览处理后的图片。
-   **使用的 shadcn/ui 组件:**
    *   Tabs (切换压缩和调整大小设置)
    *   Input (输入宽度和高度)
    *   Select (选择压缩比例)
    *   Button (应用设置)
    *   Progress (显示压缩进度)
-   **视觉样式:**
    *   Tabs: 标签文字 Base Blue (#0000ff)，选中标签下划线 Base Blue (#0000ff)。
    *   Input: 圆角 12px，灰色边框。
    *   Select: 圆角 12px，灰色边框。
    *   Button: Base Blue (#0000ff) 背景色，白色文字，圆角 12px。
    *   Progress: Base Blue (#0000ff) 进度条颜色，圆角 12px。
-   **状态变化:**
    *   初始状态：显示压缩和调整大小的参数设置区域。
    *   设置参数后点击“应用设置”：显示加载动画 (Skeleton)，并开始处理图片。
    *   处理完成：显示处理后的图片预览。
    *   处理失败：显示错误提示 (Alert)。

### 图片预览区域

-   **功能描述:** 显示压缩/调整大小后的图片预览。
-   **使用的 shadcn/ui 组件:**
    *   Card (包裹图片)
    *   Skeleton (加载动画)
-   **视觉样式:**
    *   Card: 圆角 16px，无阴影无边框。
    *   Skeleton: 灰色背景。
-   **状态变化:**
    *   初始状态：显示加载动画 (Skeleton)。
    *   处理完成：显示处理后的图片。
    *   图片加载失败：显示错误提示 (Alert)。

### 下载区域

-   **功能描述:** 提供下载链接，用户可下载压缩/调整大小后的图片。
-   **使用的 shadcn/ui 组件:**
    *   Button (下载按钮)
    *   Alert (下载提示)
-   **视觉样式:**
    *   下载按钮：Base Blue (#0000ff) 背景色，白色文字，圆角 12px。
    *   Alert: 灰色背景，黑色文字，圆角 12px。
-   **状态变化:**
    *   初始状态：显示下载按钮。
    *   点击下载按钮：开始下载，下载按钮禁用。
    *   下载完成：显示下载完成的 Alert。
    *   下载失败：显示下载失败的 Alert。

### Toast 提示

-   **功能描述：** 用于显示操作成功或失败的轻量级提示。
-   **使用的 shadcn/ui 组件：** Sonner (toast)
-   **视觉样式：**
    *   成功提示：绿色背景，白色文字，圆角 12px。
    *   失败提示：红色背景，白色文字，圆角 12px。

## 交互流程

*   **上传图片:**
    *   用户点击“上传图片”按钮 → 弹出文件选择对话框。
    *   用户选择图片 → 系统开始上传。
    *   上传成功 → 显示上传成功的 Alert，并自动跳转到“编辑” Tab。
    *   上传失败 → 显示上传失败的 Alert。
*   **设置压缩/调整大小参数:**
    *   用户在“编辑” Tab 中选择压缩比例或输入图片尺寸。
    *   用户点击“应用设置”按钮 → 系统开始处理图片。
    *   处理中 → 显示加载动画 (Skeleton)。
    *   处理完成 → 显示处理后的图片预览。
    *   处理失败 → 显示错误提示 (Alert)。
*   **下载图片:**
    *   用户在“下载” Tab 中点击“下载”按钮 → 系统开始下载。
    *   下载完成 → 显示下载完成的 Alert。
    *   下载失败 → 显示下载失败的 Alert。

## 响应式设计

*   **大屏幕:** 采用居中式布局，主内容区域宽度固定，两侧留白。
*   **中等屏幕:** 主内容区域宽度自适应屏幕宽度，两侧留白减少。
*   **小屏幕:** 主内容区域宽度撑满屏幕，隐藏 Header 和 Footer，或者将其折叠到侧边栏。
*   **移动设备:** 优化触摸操作，例如：增大按钮点击区域，使用滑动切换 Tab。
*   **图片预览:** 图片预览区域自适应屏幕宽度，保证图片完整显示。



---

## 下一步

使用以下命令生成代码：
```
/agent be --spec #1  # 生成后端代码
/agent fe --spec #1  # 生成前端代码
```